sink("/home/quant/stocks/testresults")
i<-which(stock_picked=="GNW")
j<-which(stock_picked=="VLY")
johtest<-ca.jo(as.dataF.frame(t(rbind(t(dataF[1:dl,i]),t(dataF[1:dl,j])))),type="eigen",ecdet="none",K=2,spec="longrun")
print(stock_picked[i])
print(i)
print(stock_picked[j])
print(j)
print(johtest@V[1:2,1])
print(cor(dataF[1:dl,i],dataF[1:dl,j]))
print("****************************")
plot(dataF[1:dl,i]+johtest@V[2,1]*dataF[1:dl,j],type="l",main=paste(stock_picked[i],stock_picked[j]))
v<-sqrt(var(dataF[1:dl,i]+johtest@V[2,1]*dataF[1:dl,j]))
m<-mean(dataF[1:dl,i]+johtest@V[2,1]*dataF[1:dl,j])
abline(m,0,col="green")
abline(m+v,0)
abline(m-v,0)      
abline(m+2*v,0,col="red")
abline(m-2*v,0,col="red")
print("Four standard diviations")
print(4*v)
sink()